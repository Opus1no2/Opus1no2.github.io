{"version":3,"sources":["webpack:///./src/pages/CirclePattern.js"],"names":["CirclePattern","canvasRef","useRef","multiRef","useState","width","setWidth","height","setHeight","point_coords","setPointCoords","radius","draw_circle","useCallback","ctx","beginPath","strokeStyle","arc","Math","PI","closePath","stroke","get_x_coord","i","sections","round","cos","get_y_coord","sin","draw_lines","length","line_to","current","nextX","nextY","floor","moveTo","x","y","lineTo","animate","canvas","clearRect","useEffect","window","innerWidth","innerHeight","prev","_id","didCancel","getContext","setInterval","clearInterval","className","to","ref","id"],"mappings":"qJAiHeA,UA7GO,WACpB,IAEMC,EAAYC,iBAAO,MACnBC,EAAWD,iBAAO,KAJE,EAMAE,mBAAS,KAA5BC,EANmB,KAMZC,EANY,OAOEF,mBAAS,KAA9BG,EAPmB,KAOXC,EAPW,OAQaJ,mBAAS,IAAzCK,EARmB,KAQLC,EARK,KAUpBC,EAASN,EAAQ,EAEjBO,EAAcC,uBAAY,SAACC,GAC/BA,EAAIC,YACJD,EAAIE,YAAc,UAClBF,EAAIG,IAAIZ,EAAQ,EAAGA,EAAQ,EAAGA,EAAQ,EAAG,EAAG,EAAIa,KAAKC,IACrDL,EAAIM,YACJN,EAAIO,WACJ,CAAChB,IAEGiB,EAAcT,uBAAY,SAACU,EAAGC,EAAUb,GAC5C,OAAOO,KAAKO,MAAMpB,EAAQ,EAAIa,KAAKQ,IAAKH,GAAK,EAAIL,KAAKC,IAAOK,GAAYb,KACxE,CAACN,IAEEsB,EAAcd,uBAAY,SAACU,EAAGC,EAAUb,GAC5C,OAAOO,KAAKO,MAAMpB,EAAQ,EAAIa,KAAKU,IAAKL,GAAK,EAAIL,KAAKC,IAAOK,GAAYb,KACxE,CAACN,IAEEwB,EAAahB,uBAAY,SAACJ,EAAce,EAAUb,EAAQG,GAC9D,IAAK,IAAIS,EAAI,EAAGA,EAAId,EAAaqB,OAAQP,IAAK,CAE5C,IAAMQ,EAAUR,EAAIpB,EAAS6B,QACvBC,EAAQX,EAAYS,EAASP,EAAUb,GACvCuB,EAAQP,EAAYI,EAASP,EAAUb,GAE7CG,EAAIC,YACJD,EAAIE,YAAJ,WAA6BE,KAAKiB,MAAM,IAAMZ,GAA9C,KAAqDL,KAAKiB,MAAM,IAAMZ,EAAI,IAA1E,IACAT,EAAIsB,OAAO3B,EAAac,GAAGc,EAAG5B,EAAac,GAAGe,GAC9CxB,EAAIyB,OAAON,EAAOC,GAClBpB,EAAIM,YACJN,EAAIO,YAEL,CAACC,EAAaK,IAEXa,EAAU3B,uBAAY,SAACC,EAAK2B,GAChCtC,EAAS6B,SAAW,IAEpBlB,EAAI4B,UAAU,EAAG,EAAGD,EAAOpC,MAAOoC,EAAOlC,QAErCJ,EAAS6B,SAAW,MACtB7B,EAAS6B,QAAU,GAGrBpB,EAAYE,GACZe,EAAWpB,EArDI,IAqDoBE,EAAQG,KAC1C,CAACF,EAAaiB,EAAYpB,EAAcE,IA0C3C,OAxCAgC,qBAAU,WACJC,OAAOC,YAAc,KACvBvC,EAASsC,OAAOC,YAGdD,OAAOE,aAAe,KACxBtC,EAAUoC,OAAOE,eAElB,IAEHH,qBAAU,WACR,IADe,IAAD,WACLpB,GACP,IAAMc,EAAIf,EAAYC,EApET,IAoEsBZ,GAC7B2B,EAAIX,EAAYJ,EArET,IAqEsBZ,GAEnCD,GAAe,SAAAqC,GAAI,4BAAQA,GAAR,CAAc,CAAEV,IAAGC,WAJ/Bf,EAAI,EAAGA,EAnED,IAmEeA,IAAM,EAA3BA,KAMR,CAACD,EAAaK,EAAahB,IAE9BgC,qBAAU,WACR,IAAIK,EACAC,GAAY,EAEhB,IAAKA,EAAW,CACd,IAAMR,EAASxC,EAAU+B,QACnBlB,EAAM2B,EAAOS,WAAW,MAE9BT,EAAOpC,MAAQA,EACfoC,EAAOlC,OAASA,EAChBK,EAAYE,GACZ0B,EAAQ1B,EAAK2B,GACbO,EAAMG,aAAY,WAAQX,EAAQ1B,EAAK2B,KAAW,IAGpD,OAAO,WACLQ,GAAY,EACZG,cAAcJ,MAEf,CAACpC,EAAa4B,EAASjC,EAAQF,IAGhC,oCACE,yBAAKgD,UAAU,cACb,kBAAC,IAAD,CAAMC,GAAG,KAAT,SAEF,yBAAKD,UAAU,QACb,4BAAQE,IAAKtD,EAAWuD,GAAG","file":"component---src-pages-circle-pattern-js-feca5d458df1f36ea2bd.js","sourcesContent":["import { Link } from 'gatsby';\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\n\n// It is what it is\nconst CirclePattern = () => {\n  const sections = 200;\n\n  const canvasRef = useRef(null);\n  const multiRef = useRef(0.01);\n\n  const [width, setWidth] = useState(600);\n  const [height, setHeight] = useState(600);\n  const [point_coords, setPointCoords] = useState([]);\n\n  const radius = width / 2;\n\n  const draw_circle = useCallback((ctx) => {\n    ctx.beginPath();\n    ctx.strokeStyle = 'skyblue';\n    ctx.arc(width / 2, width / 2, width / 2, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.stroke();\n  },[width]);\n\n  const get_x_coord = useCallback((i, sections, radius) => {\n    return Math.round(width / 2 * Math.cos((i * (2 * Math.PI)) / sections) + radius);\n  }, [width]);\n\n  const get_y_coord = useCallback((i, sections, radius) => {\n    return Math.round(width / 2 * Math.sin((i * (2 * Math.PI)) / sections) + radius);\n  }, [width]);\n\n  const draw_lines = useCallback((point_coords, sections, radius, ctx) => {\n    for (let i = 0; i < point_coords.length; i++) {\n\n      const line_to = i * multiRef.current;\n      const nextX = get_x_coord(line_to, sections, radius);\n      const nextY = get_y_coord(line_to, sections, radius);\n\n      ctx.beginPath();\n      ctx.strokeStyle = `rgb(20, ${Math.floor(255 % i)}, ${Math.floor(255 % i + 50)})`;\n      ctx.moveTo(point_coords[i].x, point_coords[i].y);\n      ctx.lineTo(nextX, nextY);\n      ctx.closePath();\n      ctx.stroke();\n    }\n  }, [get_x_coord, get_y_coord]);\n\n  const animate = useCallback((ctx, canvas) => {\n    multiRef.current += 0.01;\n\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n    if (multiRef.current >= 360) {\n      multiRef.current = 0.00;\n    }\n\n    draw_circle(ctx);\n    draw_lines(point_coords, sections, radius, ctx);\n  }, [draw_circle, draw_lines, point_coords, radius]);\n\n  useEffect(() => {\n    if (window.innerWidth <= 700) {\n      setWidth(window.innerWidth);\n    }\n\n    if (window.innerHeight <= 700) {\n      setHeight(window.innerHeight);\n    }\n  }, []);\n\n  useEffect(() => {\n    for (let i = 0; i < sections; i++) {\n      const x = get_x_coord(i, sections, radius);\n      const y = get_y_coord(i, sections, radius);\n\n      setPointCoords(prev => [...prev, { x, y }]);\n    }\n  }, [get_x_coord, get_y_coord, radius]);\n\n  useEffect(() => {\n    let _id;\n    let didCancel = false;\n\n    if (!didCancel) {\n      const canvas = canvasRef.current;\n      const ctx = canvas.getContext('2d');\n\n      canvas.width = width;\n      canvas.height = height;\n      draw_circle(ctx);\n      animate(ctx, canvas);\n      _id = setInterval(() => { animate(ctx, canvas) }, 60);\n    }\n\n    return () => {\n      didCancel = true;\n      clearInterval(_id);\n    };\n  }, [draw_circle, animate, height, width]);\n\n  return (\n    <>\n      <div className=\"pull-right\">\n        <Link to=\"/\">Home</Link>\n      </div>\n      <div className=\"cont\">\n        <canvas ref={canvasRef} id=\"circle\"></canvas>\n      </div>\n    </>\n  );\n};\n\nexport default CirclePattern;\n"],"sourceRoot":""}